MIME-Version: 1.0
Content-Type: multipart/related; boundary="----=_NextPart_01C46FDD.F4039EB0"

This document is a Web archive file.  If you are seeing this message, this means your browser or editor doesn't support Web archive files.  For more information on the Web archive format, go to http://officeupdate.microsoft.com/office/webarchive.htm

------=_NextPart_01C46FDD.F4039EB0
Content-Location: file:///C:/EB2322D3/BuildProcess.htm
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset="us-ascii"

<html xmlns:v=3D"urn:schemas-microsoft-com:vml"
xmlns:o=3D"urn:schemas-microsoft-com:office:office"
xmlns:w=3D"urn:schemas-microsoft-com:office:word"
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Dus-ascii">
<meta name=3DProgId content=3DWord.Document>
<meta name=3DGenerator content=3D"Microsoft Word 10">
<meta name=3DOriginator content=3D"Microsoft Word 10">
<link rel=3DFile-List href=3D"BuildProcess_files/filelist.xml">
<title>FieldWorks Build Process</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Eberhard Beilharz</o:Author>
  <o:LastAuthor>Ken Zook</o:LastAuthor>
  <o:Revision>27</o:Revision>
  <o:TotalTime>603</o:TotalTime>
  <o:Created>2003-05-23T19:02:00Z</o:Created>
  <o:LastSaved>2004-07-22T16:20:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>2044</o:Words>
  <o:Characters>11655</o:Characters>
  <o:Company>JAARS, Inc.</o:Company>
  <o:Lines>97</o:Lines>
  <o:Paragraphs>27</o:Paragraphs>
  <o:CharactersWithSpaces>13672</o:CharactersWithSpaces>
  <o:Version>10.6626</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:View>Print</w:View>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:ApplyBreakingRules/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-alt:\BC14\D0D5;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:\5B8B\4F53;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1 -369098753 63 0 4129279 0;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:1627421319 -2147483648 8 0 66047 0;}
@font-face
	{font-family:"\@Batang";
	panose-1:2 3 6 0 0 1 1 1 1 1;
	mso-font-charset:129;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-1342176593 1775729915 48 0 524447 0;}
@font-face
	{font-family:"\@SimSun";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 135135232 16 0 262145 0;}
@font-face
	{font-family:"\@Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;
	mso-font-charset:128;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1 -369098753 63 0 4129279 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:Batang;
	mso-bidi-font-family:"Times New Roman";}
h1
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-font-kerning:16.0pt;}
h2
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:2;
	font-size:14.0pt;
	font-family:Arial;
	font-style:italic;}
h3
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:3;
	font-size:13.0pt;
	font-family:Arial;}
h4
	{mso-style-next:Normal;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	page-break-after:avoid;
	mso-outline-level:4;
	font-size:14.0pt;
	font-family:"Times New Roman";}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:Batang;
	mso-bidi-font-family:"Times New Roman";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	mso-pagination:widow-orphan;
	tab-stops:center 3.0in right 6.0in;
	font-size:10.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:Batang;
	mso-bidi-font-family:"Times New Roman";}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	mso-pagination:widow-orphan;
	mso-outline-level:1;
	font-size:16.0pt;
	font-family:Arial;
	mso-fareast-font-family:Batang;
	mso-bidi-font-family:"Times New Roman";
	mso-font-kerning:14.0pt;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
 /* Page Definitions */
 @page
	{mso-footnote-separator:url("BuildProcess_files/header.htm") fs;
	mso-footnote-continuation-separator:url("BuildProcess_files/header.htm") f=
cs;
	mso-endnote-separator:url("BuildProcess_files/header.htm") es;
	mso-endnote-continuation-separator:url("BuildProcess_files/header.htm") ec=
s;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-footer:url("BuildProcess_files/header.htm") f1;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
 @list l0
	{mso-list-id:77097448;
	mso-list-template-ids:1236675848;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l0:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l1
	{mso-list-id:123428237;
	mso-list-template-ids:1849305316;}
@list l2
	{mso-list-id:253130079;
	mso-list-template-ids:1093830070;}
@list l2:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l3
	{mso-list-id:302586515;
	mso-list-type:hybrid;
	mso-list-template-ids:-2140010868 67698703 67698713 67698715 67698703 6769=
8713 67698715 67698703 67698713 67698715;}
@list l3:level1
	{mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l3:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4
	{mso-list-id:822814425;
	mso-list-type:hybrid;
	mso-list-template-ids:922146124 67698689 67698691 67698693 67698689 676986=
91 67698693 67698689 67698691 67698693;}
@list l4:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l4:level2
	{mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l4:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5
	{mso-list-id:1071079216;
	mso-list-type:hybrid;
	mso-list-template-ids:-205080836 67698689 67698691 67698693 67698689 67698=
691 67698693 67698689 67698691 67698693;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l5:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l5:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l5:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l6
	{mso-list-id:1330015351;
	mso-list-template-ids:-1263664498;}
@list l6:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l6:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l7
	{mso-list-id:1884900471;
	mso-list-type:hybrid;
	mso-list-template-ids:111564384 67698689 67698691 67698693 67698689 676986=
91 67698693 67698689 67698691 67698693;}
@list l7:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:Symbol;}
@list l7:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	font-family:"Courier New";}
@list l7:level3
	{mso-level-tab-stop:1.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level4
	{mso-level-tab-stop:2.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level5
	{mso-level-tab-stop:2.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level6
	{mso-level-tab-stop:3.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level7
	{mso-level-tab-stop:3.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level8
	{mso-level-tab-stop:4.0in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l7:level9
	{mso-level-tab-stop:4.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
@list l8
	{mso-list-id:1903322987;
	mso-list-template-ids:1710001144;}
@list l8:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l9
	{mso-list-id:2023320130;
	mso-list-template-ids:-2119279958;}
@list l9:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l10
	{mso-list-id:2098557198;
	mso-list-template-ids:-967421982;}
@list l10:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
@list l10:level2
	{mso-level-number-format:bullet;
	mso-level-text:o;
	mso-level-tab-stop:1.0in;
	mso-level-number-position:left;
	text-indent:-.25in;
	mso-ansi-font-size:10.0pt;
	font-family:"Courier New";
	mso-bidi-font-family:"Times New Roman";}
@list l11
	{mso-list-id:2129396853;
	mso-list-template-ids:1920079128;}
@list l11:level1
	{mso-level-start-at:3;
	mso-level-tab-stop:.5in;
	mso-level-number-position:left;
	text-indent:-.25in;}
ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Table Normal";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-para-margin:0in;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
table.MsoTableGrid
	{mso-style-name:"Table Grid";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0in 5.4pt 0in 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin-top:0in;
	mso-para-margin-right:0in;
	mso-para-margin-bottom:6.0pt;
	mso-para-margin-left:0in;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState=3D"false" LatentStyleCount=3D"156">  </w:La=
tentStyles>
</xml><![endif]-->
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple style=3D'tab-interval:.5in'>

<div class=3DSection1>

<p class=3DMsoTitle>The FieldWorks Build Process</p>

<p class=3DMsoNormal>Eberhard Beilharz, 23 May 2003</p>

<p class=3DMsoNormal>Update: 14 May 2004</p>

<h1>Introduction to NAnt</h1>

<p class=3DMsoNormal>NAnt is a free .NET build tool (<a
href=3D"http://nant.sourceforge.net/">http://nant.sourceforge.net</a>). In =
theory
it is kind of like make without make's wrinkles. In practice it's a lot lik=
e <a
href=3D"http://ant.apache.org/">Ant</a>. </p>

<p class=3DMsoNormal>NAnt is different. Instead of a model where it is exte=
nded
with shell-based commands, NAnt is extended using task classes. Instead of =
writing
shell commands, the configuration files are XML-based, calling out a target
tree where various tasks get executed. Each task is run by an object that
implements a particular Task interface.</p>

<p class=3DMsoNormal>The default extension for a NAnt build file is .build,=
 i.e.
if you run NAnt in a directory it looks if there is a file *.build, and if
there is only one it runs it. However, you can name build files anything you
want, but you have to specify it on the command line: <br>
<span style=3D'font-family:"Courier New"'>NAnt &#8211;buildfile:mybuildfile=
.txt</span></p>

<p class=3DMsoNormal>A build file consists of a project which must specify a
default target. If no other target is specified on the command line the def=
ault
target is executed.</p>

<p class=3DMsoNormal>A project contains multiple targets which in turn can
contain tasks that do the job like compiling, copying files etc.</p>

<p class=3DMsoNormal>You can find more information in the <a
href=3D"file:///C:\fw\Bin\nant\doc\help\index.html">NAnt documentation</a>.=
</p>

<p class=3DMsoNormal>NOTE: NAnt works case-sensitive, i.e. the targets Fram=
ework,
FrameWork and framework are considered different targets.</p>

<h1>Building with NAnt</h1>

<h2>Requirements</h2>

<p class=3DMsoNormal>All the files for NAnt are in the bin\nant\bin directo=
ry, so
if you resynced the bin directory in Perforce then you already have all what
you need.</p>

<p class=3DMsoNormal>If you are lazy and want to be able to call NAnt witho=
ut
specifying the full path you should add the NAnt directory to your path:</p>

<p class=3DMsoNormal>In Control Panel, open System, select tab
&#8220;Advanced&#8221; and press Environment Variables. Under System variab=
les
select Path, edit, and add <b>;c:\fw\bin\nant\bin</b> to the already existi=
ng
path.</p>

<h2>Calling NAnt</h2>

<p class=3DMsoNormal>To build FieldWorks with NAnt call:</p>

<p class=3DMsoNormal><span style=3D'mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Nant
<i>configuration action target<o:p></o:p></i></p>

<p class=3DMsoNormal><i>configuration </i>is one of: <i>debug</i>, <i>relea=
se</i>,
<i>bounds</i> or <i>profile</i></p>

<p class=3DMsoNormal><i>action </i>is one of: </p>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i
	 style=3D'mso-bidi-font-style:normal'>build</i>: build the target</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>test</i>:
	 build the target and build and run all tests of the target (if any)</l=
i>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>acceptance</i>:
	 combine with <i>test</i> to build and run acceptance tests</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>buildtest</i>:
	 build the target and its tests, but doesn&#8217;t run tests</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>clean</i>:
	 delete all output files of the target</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>register</i>:
	 register target if target supports registering (regsvr32/regasm)</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>unregister</i>:
	 unregister target if target supports registering (regsvr32/regasm)</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>forcetests</i>:
	 force the tests to be run, even if the target didn&#8217;t change (sho=
uld
	 be used together with action <i style=3D'mso-bidi-font-style:normal'>t=
est</i>)</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>cc</i>:
	 passes a <i style=3D'mso-bidi-font-style:normal'>cc</i> to C++ makefil=
es.
	 NOTE: this should be the last action before the target!</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>verbose</i>:
	 displays the command line options that are passed to compiler, linker
	 &#8230;</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>noremove</i>:
	 if with a remakefw it doesn&#8217;t delete the output directories</li>
</ul>

<p class=3DMsoNormal><i style=3D'mso-bidi-font-style:normal'>target</i> is =
the name
of a project, or:</p>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>all</i>:
	 build all defined projects</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>mkall</i>:
	 does what mkall.bat used to do</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>remakefw</i>:
	 does a complete rebuild of FieldWorks and reloads the databases. Does =
what
	 remakefw.bat used to do</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>testlangproj</i>:
	 reloads the TestLangProj database</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>build-databases</i>:
	 reloads LelaTeli2, LelaTeli3 and blank LangProj databases</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>allATests</i>:
	 build all acceptance tests</li>
 <li class=3DMsoNormal style=3D'mso-list:l4 level1 lfo3;tab-stops:list .5in=
'><i>nunitreport</i>:
	 builds an HTML report file with the results of unit tests
	 (NUnit-report.html) and acceptance tests (AcceptanceTests-report.html)=
</li>
</ul>

<p class=3DMsoNormal><i>Target </i>is a project name (same spelling as the =
Visual
Studio project name). This performs the <i>action</i> only for this project,
and for all projects that this target depends on. </p>

<p class=3DMsoNormal>If <i>project_name-nodep</i> is specified than the pro=
jects
that this target depends on are ignored.</p>

<p class=3DMsoNormal>There are additional targets for building multiple rel=
ated
C++ projects. See mkall.build.xml and remake.build.xml.</p>

<p class=3DMsoNormal>The only action that runs tests is <i style=3D'mso-bid=
i-font-style:
normal'>test</i>.</p>

<p class=3DMsoNormal>If you don&#8217;t specify any arguments, it does a <i
style=3D'mso-bidi-font-style:normal'>debug buildtest all</i>.</p>

<p class=3DMsoNormal>NOTE: as soon as you specify anything as argument you =
have
to specify a target. This is because all of the actions and configurations =
are
implemented as targets, so if you give it <i style=3D'mso-bidi-font-style:n=
ormal'>register
</i>as only argument, it sets the properties but doesn&#8217;t go on to a r=
eal
target.</p>

<h3>Examples:</h3>

<p class=3DMsoNormal>Nant release build COMInterfaces &#8211; builds release
version of COMInterfaces project and projects it depends on</p>

<p class=3DMsoNormal>Nant clean Utils-nodep &#8211; removes output files of=
 debug
version of Utils project, but not of project it depends on</p>

<p class=3DMsoNormal>Nant buildtest release all &#8211; builds all the proj=
ects
and tests that belong to the projects but doesn&#8217;t run the tests.</p>

<p class=3DMsoNormal>Nant register all &#8211; registers all project files<=
/p>

<p class=3DMsoNormal>NAnt forcetests test ScrFDO-nodep &#8211; runs the tes=
ts for
the ScrFDO project.</p>

<p class=3DMsoNormal>Nant acceptance test allATests &#8211; builds and runs=
 all
acceptance tests</p>

<h2>Conventions</h2>

<p class=3DMsoNormal>It is expected that every project in Visual Studio has=
 at
least three configurations: Debug, Release and Bounds. The Output path sett=
ing
is ignored, the output always ends up in Output\<i style=3D'mso-bidi-font-s=
tyle:
normal'>configuration</i>\<i style=3D'mso-bidi-font-style:normal'>projectna=
me</i></p>

<p class=3DMsoNormal>Tests for a project should only rely on types defined =
in the
project and in assemblies that project references.</p>

<p class=3DMsoNormal>A test project should go in a subdirectory called <i
style=3D'mso-bidi-font-style:normal'>projectname</i>Tests and be called the=
 same.
Example: the tests for the project FDO\FDO.csproj are in
FDO\FDOTests\FDOTests.csproj. This is necessary so that the build process c=
an
find them automatically.</p>

<p class=3DMsoNormal>Project references should point to Output\Debug\<i
style=3D'mso-bidi-font-style:normal'>Assembly</i>\<i style=3D'mso-bidi-font=
-style:
normal'>Assembly</i>.dll, e.g. to make a reference to Framework.dll, select
Output\Debug\Framework\Framework.dll. Don&#8217;t make project references. =
The
build process will use the correct version for Release/Debug builds.</p>

<p class=3DMsoNormal>Don&#8217;t check in solution files.</p>

<h2>Building in Visual Studio .NET</h2>

<p class=3DMsoNormal>There are several possibilities to build with NAnt from
inside Visual Studio.</p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'mso-list:l3 level1 lfo7;tab-stops:list .5in=
'>Add an
	 entry to the Tools menu that runs NAnt in the bld directory and specify
	 the arguments at run time, or add several entries with the desired
	 arguments.</li>
 <li class=3DMsoNormal style=3D'mso-list:l3 level1 lfo7;tab-stops:list .5in=
'>The
	 master build file has a special target, VSCompile that allows giving it
	 the name of a VS solution. It will then compile the project with the s=
ame
	 name as the solution. To do that, add an entry to the Tools menu:</li>
</ol>

<p class=3DMsoNormal style=3D'margin-left:.5in'>In Visual Studio, open
Tools/External Tools, press Add button. Title: Compile with NAnt; Command:
c:\fw\bin\nant\bin\NAnt.exe; Arguments: <i>-buildfile:FieldWorks.build
VSCompile -D:sln=3D&quot;$(SolutionDir)</i>\<i>$(SolutionFileName)&quot;</i=
><span
style=3D'mso-bidi-font-style:italic'>;<i> </i>Initial Directory: c:\fw\bld;=
 check
&#8220;Use Output window&#8221;.<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-left:.5in'>Map it to the shortcut key =
Alt-N.</p>

<p class=3DMsoNormal style=3D'margin-left:.5in'>This allows building of the=
 current
project (if there is only one project in the solution, or one project and i=
ts
test project). </p>

<p class=3DMsoNormal style=3D'margin-left:.5in'>If there is no target for t=
he
current project, it tries to locate a file build.build in the solution
directory and runs NAnt with that.</p>

<p class=3DMsoNormal style=3D'margin-left:.5in'>The handling of the VSCompi=
le
target is done in bld\SpecialTargets.xml</p>

<ol style=3D'margin-top:0in' start=3D1 type=3D1>
 <li class=3DMsoNormal style=3D'mso-list:l3 level1 lfo7;tab-stops:list .5in=
'>There
	 will be a plug-in for Visual Studio that hijacks the VS build commands=
 so
	 that when you compile in Visual Studio it automatically calls NAnt with
	 the target in the FieldWorks build file. This plug-in still needs some
	 fine-tuning.</li>
</ol>

<p class=3DMsoNormal>You might want to exclude the projects in the solution=
 from
building, because that&#8217;s done with NAnt now.</p>

<p class=3DMsoNormal>NOTE: If you add new files to the project or otherwise
modify the project settings, you have to do a Save All before compiling &#8=
211;
Visual Studio automatically saves all source files before running an extern=
al
tool, but not the project file.</p>

<h2>Developing with the NAnt build process</h2>

<p class=3DMsoNormal>Open the project file you&#8217;re working on as new
solution, and add the test project to the solution. </p>

<p class=3DMsoNormal>For your project, open the project properties, go to
Configuration Properties/Debugging, set Debug Mode to Program and Start
Application to c:\fw\bin\NUnit\bin\nunit-gui.exe. Add Command Line Arguments
add: <span style=3D'mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;</span>c:\fw\=
output\debug\<i
style=3D'mso-bidi-font-style:normal'>projectnametests.dll</i><span
style=3D'mso-bidi-font-style:italic'><o:p></o:p></span></p>

<p class=3DMsoNormal>This allows debugging the tests.</p>

<p class=3DMsoNormal>You can add additional projects to the solution, but t=
his
may cause problems with files locked by Visual Studio when you try to build=
 the
projects.</p>

<h1>Adding new projects</h1>

<p class=3DMsoNormal>To add a new project to the build process:</p>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <li class=3DMsoNormal style=3D'mso-list:l7 level1 lfo11;tab-stops:list .5i=
n'>Determine
	 if this project is something that will be used by all FieldWorks
	 applications or only by a specific domain. If it is common it should g=
o in
	 the FieldWorks.build file, otherwise in the specific domain build incl=
ude,
	 e.g. TE.build.xml.</li>
 <li class=3DMsoNormal style=3D'mso-list:l7 level1 lfo11;tab-stops:list .5i=
n'>For a
	 common project added to FieldWorks.build:</li>
 <ul style=3D'margin-top:0in' type=3Dcircle>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>Add
	  a new line to target <i style=3D'mso-bidi-font-style:normal'>all</i>
	  (&lt;call target=3D&#8221;newproject&#8221;/&gt;)</li>
 </ul>
 <li class=3DMsoNormal style=3D'mso-list:l7 level1 lfo11;tab-stops:list .5i=
n'>For a
	 domain specific project:</li>
 <ul style=3D'margin-top:0in' type=3Dcircle>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>Add
	  the project to the list of dependencies for the super target, e.g. al=
lTE.</li>
 </ul>
 <li class=3DMsoNormal style=3D'mso-list:l7 level1 lfo11;tab-stops:list .5i=
n'>For
	 all projects in the particular build file/include:</li>
 <ul style=3D'margin-top:0in' type=3Dcircle>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>Add
	  the project as new target to the list of individual projects:</li>
 </ul>
</ul>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:blue'>&lt;</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:maroon'>target</span><span style=3D'mso-bidi-font-=
size:
10.0pt;font-family:"Courier New";mso-bidi-font-family:"Arial Unicode MS";
color:fuchsia'> </span><span style=3D'mso-bidi-font-size:10.0pt;font-family=
:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:red'>name</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;<b>newproject</b>&quot;</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:fuchsia'> </span><span style=3D'mso-bidi-font-size=
:10.0pt;
font-family:"Courier New";mso-bidi-font-family:"Arial Unicode MS";color:red=
'>depends</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;<b>FDO</b>&quot;</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:fuchsia'> <o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;text-indent:.5in;mso-layout-grid-al=
ign:
none;text-autospace:none'><span style=3D'mso-bidi-font-size:10.0pt;font-fam=
ily:
"Courier New";mso-bidi-font-family:"Arial Unicode MS";color:red'>descriptio=
n</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;Demonstrates adding a new project.&=
quot;&gt;<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS"'><span style=3D'mso-tab-count:1'>&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style=3D'color:blue'>&lt;</span><span style=3D'color:maroon'>call</span><sp=
an
style=3D'color:fuchsia'> </span><span style=3D'color:red'>target</span><span
style=3D'color:blue'>=3D&quot;<b>newproject</b>-nodep&quot;/&gt;<o:p></o:p>=
</span></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:blue'>&lt;/</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:maroon'>target</span><span style=3D'mso-bidi-font-=
size:
10.0pt;font-family:"Courier New";mso-bidi-font-family:"Arial Unicode MS";
color:blue'>&gt;<o:p></o:p></span></p>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <ul style=3D'margin-top:0in' type=3Dcircle>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>The
	  target should call a target called <i style=3D'mso-bidi-font-style:no=
rmal'>projectname</i>-nodep.</li>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>Add
	  any dependencies that your new project depends on.</li>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>Add
	  a nodep-target to the list of projects without dependencies:</li>
 </ul>
</ul>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:blue'>&lt;</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:maroon'>target</span><span style=3D'mso-bidi-font-=
size:
10.0pt;font-family:"Courier New";mso-bidi-font-family:"Arial Unicode MS";
color:fuchsia'> </span><span style=3D'mso-bidi-font-size:10.0pt;font-family=
:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:red'>name</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;<b>newproject</b>-nodep&quot;</span=
><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:fuchsia'> <o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;text-indent:.5in;mso-layout-grid-al=
ign:
none;text-autospace:none'><span style=3D'mso-bidi-font-size:10.0pt;font-fam=
ily:
"Courier New";mso-bidi-font-family:"Arial Unicode MS";color:red'>descriptio=
n</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;Demonstrates adding a new
project.&quot;&gt;<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS"'><span style=3D'mso-tab-count:1'>&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style=3D'color:blue'>&lt;</span><span style=3D'color:maroon'>property</span=
><span
style=3D'color:fuchsia'> </span><span style=3D'color:red'>name</span><span
style=3D'color:blue'>=3D&quot;dir.srcProj&quot;</span><span style=3D'color:=
fuchsia'> <o:p></o:p></span></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.5in;margin-bottom:.0001pt;text-indent:.5in;mso-layout-grid-al=
ign:
none;text-autospace:none'><span style=3D'mso-bidi-font-size:10.0pt;font-fam=
ily:
"Courier New";mso-bidi-font-family:"Arial Unicode MS";color:red'>value</spa=
n><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:blue'>=3D&quot;${fwroot}\Src\<b>newproject</b>&quo=
t;/&gt;<o:p></o:p></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS"'><span style=3D'mso-tab-count:1'>&n=
bsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style=3D'color:blue'>&lt;</span><span style=3D'color:maroon'>call</span><sp=
an
style=3D'color:fuchsia'> </span><span style=3D'color:red'>target</span><span
style=3D'color:blue'>=3D&quot;vsconvert-convert&quot;</span><span style=3D'=
color:
fuchsia'> </span><span style=3D'color:red'>force</span><span style=3D'color=
:blue'>=3D&quot;true&quot;/&gt;<o:p></o:p></span></span></p>

<p class=3DMsoNormal style=3D'margin-top:0in;margin-right:0in;margin-bottom=
:0in;
margin-left:1.0in;margin-bottom:.0001pt;mso-layout-grid-align:none;text-aut=
ospace:
none'><span style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";
mso-bidi-font-family:"Arial Unicode MS";color:blue'>&lt;/</span><span
style=3D'mso-bidi-font-size:10.0pt;font-family:"Courier New";mso-bidi-font-=
family:
"Arial Unicode MS";color:maroon'>target</span><span style=3D'mso-bidi-font-=
size:
10.0pt;font-family:"Courier New";mso-bidi-font-family:"Arial Unicode MS";
color:blue'>&gt;<o:p></o:p></span></p>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <ul style=3D'margin-top:0in' type=3Dcircle>
  <li class=3DMsoNormal style=3D'mso-list:l7 level2 lfo11;tab-stops:list 1.=
0in'>The
	  target should set the dir.srcProj property to the path to the project=
 and
	  then call the target vsconvert-convert with attribute force set to tr=
ue.</li>
 </ul>
</ul>

<h1>How does it work?</h1>

<p class=3DMsoNormal>Files related to the build process:<o:p></o:p></p>

<table class=3DMsoTableGrid border=3D0 cellspacing=3D0 cellpadding=3D0
 style=3D'border-collapse:collapse;mso-yfti-tbllook:480;mso-padding-alt:0in=
 5.4pt 0in 5.4pt'>
 <tr style=3D'mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\FieldWorks.build</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Main build file for FieldWorks. Defines targets that=
 are
  common to most programs, e.g. Framework, COMFwDlgs etc.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:1'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\SetupInclude.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Initializes properties used in the build files. Incl=
uded
  in FieldWorks.build.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:2'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\SpecialTargets.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Defines special targets that set properties. Include=
d in
  FieldWorks.build.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:3'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\GlobalInclude.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Include file. Currently this file contains the defin=
ition
  of the FieldWorks version numbers. It can contain additional build steps =
that
  should be performed for all projects.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:4'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\VSConvert.build.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Originally from Gordon Weakliem, this file converts a
  Visual Studio project file to a NAnt build file with the help of
  VSConvert.xsl.<span style=3D'mso-bidi-font-size:10.0pt;font-family:"Couri=
er New";
  mso-bidi-font-family:"Arial Unicode MS";color:green'> </span>Included in
  FieldWorks.build.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:5'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\VSConvert.xsl</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>XSLT style sheet that converts a Visual Studio proje=
ct
  file to a NAnt build file.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:6'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\TE.build.xml;<br>
  Bld\WordWorks.build.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Define the specific targets for TE and WordWorks. In=
cluded
  in FieldWorks.build.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:7'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\mkall.build.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Contains the targets that were formerly in mkall.bat=
 (all
  C++ projects). It simply calls the batch files for the individual project=
s,
  e.g. mkvw.bat and passes it appropriate parameters. When we change the bu=
ild
  process for C++ projects this file will go away. Included in
  FieldWorks.build.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:8'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bld\remake.build.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Contains targets to perform a complete rebuild of
  FieldWorks as it was done previously in remakefw.bat.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:9'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Obj\NAntBuild</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>This directory contains the NAnt build files that ge=
t converted
  from the Visual Studio project files by VSconvert.xsl</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:10'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bin\nant\bin</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Contains the NAnt executable. We currently use a ver=
sion
  based on release 0.8.2 but with some bugs fixed (Modified source code is =
on
  EberhardB&#8217;s machine). All the bugs are submitted and most of them a=
re
  already fixed in the newest developer&#8217;s build. This means that the =
next
  release of NAnt should have the fixes in it, so that we can directly use =
the
  released version of NAnt.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:11'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bin\nant\bin\tasks</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Contains additional FieldWorks specific tasks.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:12'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>Bin\nant\src\FwTasks</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Contains the source code for the FieldWorks specific
  tasks.</p>
  </td>
 </tr>
 <tr style=3D'mso-yfti-irow:13;mso-yfti-lastrow:yes'>
  <td width=3D115 valign=3Dtop style=3D'width:1.2in;padding:0in 5.4pt 0in 5=
.4pt'>
  <p class=3DMsoNormal>&#8230;\buildinclude.xml</p>
  </td>
  <td width=3D475 valign=3Dtop style=3D'width:4.95in;padding:0in 5.4pt 0in =
5.4pt'>
  <p class=3DMsoNormal>Include file that gets included in a project build f=
ile. It
  can contain additional build steps for a specific project.</p>
  </td>
 </tr>
</table>

<p class=3DMsoNormal style=3D'margin-top:6.0pt'>The target <i style=3D'mso-=
bidi-font-style:
normal'>vsconvert-convert</i><span style=3D'mso-spacerun:yes'>&nbsp; </span=
>which
is in VSconvert.build.xml copies the VSConvert.xsl style sheet to the
Obj\NAntBuild directory (target vsconvert-copystylesheet) and sets all nece=
ssary
properties that are not already set like project name and path and output n=
ame
(target vsconvert-prepare).</p>

<p class=3DMsoNormal>It then converts the project file to a NAnt build file=
 with
the help of VSConvert.xsl (target GenerateBuildFile).</p>

<p class=3DMsoNormal>Finally it calls NAnt and passes it the newly generated
build file.</p>

<p class=3DMsoNormal>Errors or failed tests set the <i style=3D'mso-bidi-fo=
nt-style:
normal'>fw-build-error</i> or <i style=3D'mso-bidi-font-style:normal'>fw-te=
st-error
</i>properties that are passed back to the outer build and eventually show =
the
result when the build is done. <i>fw-build-error</i> contains all failed te=
st
projects.</p>

<p class=3DMsoNormal>VSConvert.xsl was tested mainly with C# projects. It s=
hould
be able to handle VB.NET projects as well. Support of C++ projects is
rudimentary, it works for managed C++ projects but needs some work for
unmanaged projects. The CL task that compiles C++ code currently doesn&#821=
7;t
check dependencies, i.e. it always compiles everything. However, the current
developer build of NAnt already contains an improved version.</p>

<p class=3DMsoNormal>VSConvert.xsl includes sections from a global include =
file
(specified as parameter when calling the Style task) and from the local inc=
lude
file <i style=3D'mso-bidi-font-style:normal'>buildinclude.xml</i> at approp=
riate
places.</p>

<h2>Tweaking the build process</h2>

<ul style=3D'margin-top:0in' type=3Ddisc>
 <li class=3DMsoNormal style=3D'mso-list:l5 level1 lfo16;tab-stops:list .5i=
n'>To
	 change the settings for one project: change the settings in the Visual
	 Studio project</li>
 <li class=3DMsoNormal style=3D'mso-list:l5 level1 lfo16;tab-stops:list .5i=
n'>To change
	 settings for all projects: change VSConvert.xsl (search for $compiler =
and
	 add the requested attribute, or search for &#8216;init-&#8216; and
	 override the Visual Studio settings)</li>
 <li class=3DMsoNormal style=3D'mso-list:l5 level1 lfo16;tab-stops:list .5i=
n'>To
	 add additional build steps to a project, create a file buildinclude.xm=
l in
	 the same directory where the corresponding project file is. You can add
	 additional steps before/after initialization (pre-/post-init),
	 before/after performing a build (pre-/post-build) and before/after
	 performing a clean (pre-/post-clean). To do that, add a &lt;pre-build&=
gt;
	 tag under the root &lt;include&gt; tag, and then the tasks that should=
 be
	 performed before building. Example: src\FDO\buildinclude.xml contains a
	 pre-build step that unzips the Cellar model file and then generates FDO
	 files. It also contains a post-clean step that deletes all the generat=
ed
	 files.</li>
</ul>

</div>

</body>

</html>

------=_NextPart_01C46FDD.F4039EB0
Content-Location: file:///C:/EB2322D3/BuildProcess_files/header.htm
Content-Transfer-Encoding: quoted-printable
Content-Type: text/html; charset="us-ascii"

<html xmlns:v=3D"urn:schemas-microsoft-com:vml"
xmlns:o=3D"urn:schemas-microsoft-com:office:office"
xmlns:w=3D"urn:schemas-microsoft-com:office:word"
xmlns=3D"http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=3DContent-Type content=3D"text/html; charset=3Dus-ascii">
<meta name=3DProgId content=3DWord.Document>
<meta name=3DGenerator content=3D"Microsoft Word 10">
<meta name=3DOriginator content=3D"Microsoft Word 10">
<link id=3DMain-File rel=3DMain-File href=3D"../BuildProcess.htm">
<![if IE]>
<base href=3D"file:///C:\EB2322D3\BuildProcess_files\header.htm"
id=3D"webarch_temp_base_tag">
<![endif]>
</head>

<body lang=3DEN-US link=3Dblue vlink=3Dpurple>

<div style=3D'mso-element:footnote-separator' id=3Dfs>

<p class=3DMsoNormal><span style=3D'mso-special-character:footnote-separato=
r'><![if !supportFootnotes]>

<hr align=3Dleft size=3D1 width=3D"33%">

<![endif]></span></p>

</div>

<div style=3D'mso-element:footnote-continuation-separator' id=3Dfcs>

<p class=3DMsoNormal><span style=3D'mso-special-character:footnote-continua=
tion-separator'><![if !supportFootnotes]>

<hr align=3Dleft size=3D1>

<![endif]></span></p>

</div>

<div style=3D'mso-element:endnote-separator' id=3Des>

<p class=3DMsoNormal><span style=3D'mso-special-character:footnote-separato=
r'><![if !supportFootnotes]>

<hr align=3Dleft size=3D1 width=3D"33%">

<![endif]></span></p>

</div>

<div style=3D'mso-element:endnote-continuation-separator' id=3Decs>

<p class=3DMsoNormal><span style=3D'mso-special-character:footnote-continua=
tion-separator'><![if !supportFootnotes]>

<hr align=3Dleft size=3D1>

<![endif]></span></p>

</div>

<div style=3D'mso-element:footer' id=3Df1>

<p class=3DMsoFooter>FieldWorks Build Process<span style=3D'mso-tab-count:1=
'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
style=3D'mso-field-code:" PAGE   \\* MERGEFORMAT "'><span style=3D'mso-no-p=
roof:
yes'>4</span></span>/<span style=3D'mso-field-code:" NUMPAGES   \\* MERGEFO=
RMAT "'><span
style=3D'mso-no-proof:yes'>6</span></span><span style=3D'mso-tab-count:1'>&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs=
p;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&=
nbsp;&nbsp;&nbsp;&nbsp; </span><span
style=3D'mso-field-code:" SAVEDATE  \\\@ \0022M\/d\/yyyy\0022  \\* MERGEFOR=
MAT "'><span
style=3D'mso-no-proof:yes'>5/14/2004</span></span></p>

</div>

</body>

</html>

------=_NextPart_01C46FDD.F4039EB0
Content-Location: file:///C:/EB2322D3/BuildProcess_files/filelist.xml
Content-Transfer-Encoding: quoted-printable
Content-Type: text/xml; charset="utf-8"

<xml xmlns:o=3D"urn:schemas-microsoft-com:office:office">
 <o:MainFile HRef=3D"../BuildProcess.htm"/>
 <o:File HRef=3D"header.htm"/>
 <o:File HRef=3D"filelist.xml"/>
</xml>
------=_NextPart_01C46FDD.F4039EB0--
